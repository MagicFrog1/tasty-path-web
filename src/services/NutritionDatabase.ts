// Base de datos nutricional real por 100g de ingrediente
export interface NutritionData {
  calories: number;
  protein: number; // gramos
  carbs: number;   // gramos
  fat: number;     // gramos
  fiber?: number;  // gramos
}

export const NUTRITION_DATABASE: Record<string, NutritionData> = {
  // CARNES Y AVES - EXPANDIDO
  'pollo': { calories: 165, protein: 31, carbs: 0, fat: 3.6 },
  'pechuga de pollo': { calories: 165, protein: 31, carbs: 0, fat: 3.6 },
  'muslo de pollo': { calories: 209, protein: 26, carbs: 0, fat: 10 },
  'ala de pollo': { calories: 203, protein: 18, carbs: 0, fat: 14 },
  'ternera': { calories: 250, protein: 26, carbs: 0, fat: 15 },
  'cerdo': { calories: 242, protein: 27, carbs: 0, fat: 14 },
  'lomo de cerdo': { calories: 242, protein: 27, carbs: 0, fat: 14 },
  'chuleta de cerdo': { calories: 231, protein: 27, carbs: 0, fat: 12 },
  'panceta': { calories: 518, protein: 9, carbs: 0, fat: 53 },
  'cordero': { calories: 294, protein: 25, carbs: 0, fat: 21 },
  'paletilla de cordero': { calories: 282, protein: 25, carbs: 0, fat: 19 },
  'conejo': { calories: 173, protein: 33, carbs: 0, fat: 3.5 },
  'pato': { calories: 337, protein: 19, carbs: 0, fat: 28 },
  'pavo': { calories: 189, protein: 29, carbs: 0, fat: 7 },
  'pechuga de pavo': { calories: 135, protein: 30, carbs: 0, fat: 1 },
  'bacon': { calories: 541, protein: 37, carbs: 1.4, fat: 42 },
  'jamón': { calories: 145, protein: 21, carbs: 1.5, fat: 5.5 },
  'jamón serrano': { calories: 319, protein: 30, carbs: 0, fat: 21 },
  'jamón ibérico': { calories: 375, protein: 28, carbs: 0, fat: 28 },
  'chorizo': { calories: 455, protein: 24, carbs: 2, fat: 38 },
  'chorizo ibérico': { calories: 455, protein: 24, carbs: 2, fat: 38 },
  'salchichón': { calories: 301, protein: 12, carbs: 2, fat: 26 },
  'fuet': { calories: 301, protein: 12, carbs: 2, fat: 26 },
  'costillas de cerdo': { calories: 277, protein: 20, carbs: 0, fat: 21 },
  'solomillo de ternera': { calories: 250, protein: 26, carbs: 0, fat: 15 },
  'entrecot': { calories: 271, protein: 26, carbs: 0, fat: 17 },
  'chuleta de ternera': { calories: 250, protein: 26, carbs: 0, fat: 15 },
  'carne picada': { calories: 254, protein: 26, carbs: 0, fat: 15 },
  'hígado de ternera': { calories: 135, protein: 20, carbs: 4, fat: 3.6 },
  'riñones': { calories: 99, protein: 17, carbs: 0.8, fat: 3 },
  'morcilla': { calories: 379, protein: 14, carbs: 1, fat: 35 },
  'butifarra': { calories: 301, protein: 12, carbs: 2, fat: 26 },
  'sobrasada': { calories: 455, protein: 24, carbs: 2, fat: 38 },
  'cecina': { calories: 251, protein: 50, carbs: 0, fat: 4 },
  'lacón': { calories: 145, protein: 21, carbs: 1.5, fat: 5.5 },
  'codillo': { calories: 231, protein: 27, carbs: 0, fat: 12 },
  'morcón': { calories: 455, protein: 24, carbs: 2, fat: 38 },
  'longaniza': { calories: 301, protein: 12, carbs: 2, fat: 26 },
  'chistorra': { calories: 301, protein: 12, carbs: 2, fat: 26 },
  'pernil': { calories: 231, protein: 27, carbs: 0, fat: 12 },
  'cochinillo': { calories: 231, protein: 27, carbs: 0, fat: 12 },
  'cabrito': { calories: 109, protein: 20, carbs: 0, fat: 2.6 },
  'venado': { calories: 158, protein: 30, carbs: 0, fat: 3.2 },
  'jabalí': { calories: 122, protein: 22, carbs: 0, fat: 3.4 },
  'codorniz': { calories: 192, protein: 25, carbs: 0, fat: 9.8 },
  'faisán': { calories: 239, protein: 32, carbs: 0, fat: 11 },
  'perdiz': { calories: 197, protein: 30, carbs: 0, fat: 7.4 },

  // PESCADOS Y MARISCOS - EXPANDIDO
  'salmón': { calories: 208, protein: 25, carbs: 0, fat: 12 },
  'salmón ahumado': { calories: 117, protein: 18, carbs: 0, fat: 4.3 },
  'atún': { calories: 132, protein: 30, carbs: 0, fat: 1.3 },
  'atún rojo': { calories: 184, protein: 30, carbs: 0, fat: 6 },
  'atún en lata': { calories: 116, protein: 26, carbs: 0, fat: 0.8 },
  'bonito': { calories: 144, protein: 30, carbs: 0, fat: 1.8 },
  'pescado blanco': { calories: 96, protein: 21, carbs: 0, fat: 1.2 },
  'merluza': { calories: 96, protein: 21, carbs: 0, fat: 1.2 },
  'bacalao': { calories: 82, protein: 18, carbs: 0, fat: 0.7 },
  'bacalao salado': { calories: 290, protein: 63, carbs: 0, fat: 2.4 },
  'dorada': { calories: 144, protein: 24, carbs: 0, fat: 4.5 },
  'lubina': { calories: 97, protein: 20, carbs: 0, fat: 1.5 },
  'trucha': { calories: 119, protein: 20, carbs: 0, fat: 3.5 },
  'trucha arcoíris': { calories: 119, protein: 20, carbs: 0, fat: 3.5 },
  'rodaballo': { calories: 95, protein: 20, carbs: 0, fat: 1.2 },
  'lenguado': { calories: 91, protein: 19, carbs: 0, fat: 1.2 },
  'rape': { calories: 97, protein: 20, carbs: 0, fat: 1.5 },
  'congrio': { calories: 97, protein: 20, carbs: 0, fat: 1.5 },
  'pez espada': { calories: 172, protein: 28, carbs: 0, fat: 6.2 },
  'emperador': { calories: 172, protein: 28, carbs: 0, fat: 6.2 },
  'caballa': { calories: 205, protein: 19, carbs: 0, fat: 13 },
  'sardinas': { calories: 208, protein: 25, carbs: 0, fat: 11 },
  'sardinas en lata': { calories: 208, protein: 25, carbs: 0, fat: 11 },
  'anchoas': { calories: 131, protein: 20, carbs: 0, fat: 4.8 },
  'boquerones': { calories: 131, protein: 20, carbs: 0, fat: 4.8 },
  'jurel': { calories: 139, protein: 24, carbs: 0, fat: 4.2 },
  'corvina': { calories: 97, protein: 20, carbs: 0, fat: 1.5 },
  'besugo': { calories: 142, protein: 24, carbs: 0, fat: 4.5 },
  'sargo': { calories: 97, protein: 20, carbs: 0, fat: 1.5 },
  'pargo': { calories: 97, protein: 20, carbs: 0, fat: 1.5 },
  'langostinos': { calories: 99, protein: 24, carbs: 0, fat: 0.3 },
  'gambas': { calories: 99, protein: 24, carbs: 0, fat: 0.3 },
  'cigalas': { calories: 99, protein: 24, carbs: 0, fat: 0.3 },
  'nécoras': { calories: 99, protein: 24, carbs: 0, fat: 0.3 },
  'buey de mar': { calories: 99, protein: 24, carbs: 0, fat: 0.3 },
  'centollo': { calories: 99, protein: 24, carbs: 0, fat: 0.3 },
  'mejillones': { calories: 86, protein: 12, carbs: 4, fat: 2.2 },
  'almejas': { calories: 86, protein: 12, carbs: 4, fat: 2.2 },
  'berberechos': { calories: 86, protein: 12, carbs: 4, fat: 2.2 },
  'navajas': { calories: 86, protein: 12, carbs: 4, fat: 2.2 },
  'caracoles de mar': { calories: 86, protein: 12, carbs: 4, fat: 2.2 },
  'calamar': { calories: 92, protein: 16, carbs: 3, fat: 1.4 },
  'sepia': { calories: 92, protein: 16, carbs: 3, fat: 1.4 },
  'pulpo': { calories: 82, protein: 15, carbs: 2.2, fat: 1 },
  'chipirones': { calories: 92, protein: 16, carbs: 3, fat: 1.4 },
  'percebes': { calories: 86, protein: 12, carbs: 4, fat: 2.2 },
  'bogavante': { calories: 99, protein: 24, carbs: 0, fat: 0.3 },
  'langosta': { calories: 99, protein: 24, carbs: 0, fat: 0.3 },
  'cangrejo': { calories: 99, protein: 24, carbs: 0, fat: 0.3 },
  'erizos de mar': { calories: 86, protein: 12, carbs: 4, fat: 2.2 },
  'ortiguillas': { calories: 86, protein: 12, carbs: 4, fat: 2.2 },
  'anémonas': { calories: 86, protein: 12, carbs: 4, fat: 2.2 },
  'caviar': { calories: 264, protein: 25, carbs: 4, fat: 18 },
  'huevas de pescado': { calories: 143, protein: 24, carbs: 1.5, fat: 4.2 },
  'anguila': { calories: 184, protein: 18, carbs: 0, fat: 11 },
  'morena': { calories: 184, protein: 18, carbs: 0, fat: 11 },
  'lamprea': { calories: 184, protein: 18, carbs: 0, fat: 11 },
  'esturión': { calories: 135, protein: 25, carbs: 0, fat: 3.2 },
  'salmón del atlántico': { calories: 208, protein: 25, carbs: 0, fat: 12 },
  'salmón del pacífico': { calories: 208, protein: 25, carbs: 0, fat: 12 },
  'halibut': { calories: 111, protein: 23, carbs: 0, fat: 1.3 },
  'fletán': { calories: 111, protein: 23, carbs: 0, fat: 1.3 },
  'tiburón': { calories: 130, protein: 26, carbs: 0, fat: 2.1 },
  'raya': { calories: 97, protein: 20, carbs: 0, fat: 1.5 },
  'pez limón': { calories: 97, protein: 20, carbs: 0, fat: 1.5 },
  'pez gallo': { calories: 97, protein: 20, carbs: 0, fat: 1.5 },
  'pez sable': { calories: 97, protein: 20, carbs: 0, fat: 1.5 },
  'pez volador': { calories: 97, protein: 20, carbs: 0, fat: 1.5 },

  // HUEVOS Y LÁCTEOS
  'huevos': { calories: 155, protein: 13, carbs: 1.1, fat: 11 },
  'queso fresco': { calories: 98, protein: 11, carbs: 3.4, fat: 4.3 },
  'queso parmesano': { calories: 431, protein: 38, carbs: 4.1, fat: 29 },
  'requesón': { calories: 98, protein: 11, carbs: 3.4, fat: 4.3 },
  'yogur griego': { calories: 59, protein: 10, carbs: 3.6, fat: 0.4 },
  'yogur natural': { calories: 59, protein: 10, carbs: 3.6, fat: 0.4 },
  'leche': { calories: 42, protein: 3.4, carbs: 5, fat: 1 },
  'leche de almendras': { calories: 17, protein: 0.6, carbs: 1.5, fat: 1.1 },
  'leche de coco': { calories: 230, protein: 2.3, carbs: 6, fat: 24 },
  'leche de avena': { calories: 43, protein: 1.5, carbs: 7, fat: 1.3 },
  'mantequilla': { calories: 717, protein: 0.9, carbs: 0.1, fat: 81 },
  'mantequilla de almendras': { calories: 614, protein: 21, carbs: 19, fat: 55 },

  // LEGUMBRES
  'lentejas': { calories: 116, protein: 9, carbs: 20, fat: 0.4 },
  'garbanzos': { calories: 164, protein: 8.9, carbs: 27, fat: 2.6 },
  'hummus': { calories: 166, protein: 8, carbs: 14, fat: 9.6 },
  'edamame': { calories: 122, protein: 11, carbs: 10, fat: 5.2 },

  // CEREALES Y GRANOS
  'arroz integral': { calories: 111, protein: 2.6, carbs: 23, fat: 0.9 },
  'arroz salvaje': { calories: 101, protein: 4, carbs: 21, fat: 0.3 },
  'pasta integral': { calories: 124, protein: 5, carbs: 25, fat: 1.1 },
  'pasta de lentejas': { calories: 124, protein: 5, carbs: 25, fat: 1.1 },
  'pasta de garbanzos': { calories: 124, protein: 5, carbs: 25, fat: 1.1 },
  'quinoa': { calories: 120, protein: 4.4, carbs: 22, fat: 1.9 },
  'avena integral': { calories: 389, protein: 17, carbs: 66, fat: 7 },
  'bulgur': { calories: 83, protein: 3.1, carbs: 19, fat: 0.2 },
  'cuscús': { calories: 112, protein: 3.8, carbs: 23, fat: 0.2 },
  'mijo': { calories: 378, protein: 11, carbs: 73, fat: 4.2 },
  'amaranto': { calories: 371, protein: 14, carbs: 65, fat: 7 },
  'trigo sarraceno': { calories: 343, protein: 13, carbs: 72, fat: 3.4 },
  'cebada': { calories: 354, protein: 12, carbs: 73, fat: 2.3 },
  'centeno': { calories: 338, protein: 10, carbs: 76, fat: 1.6 },
  'espelta': { calories: 338, protein: 15, carbs: 70, fat: 2.4 },
  'kamut': { calories: 337, protein: 15, carbs: 71, fat: 2.2 },
  'teff': { calories: 367, protein: 13, carbs: 73, fat: 2.4 },
  'pan integral': { calories: 247, protein: 13, carbs: 41, fat: 4.2 },
  'tortillas de maíz': { calories: 218, protein: 5.7, carbs: 44, fat: 2.8 },
  'wraps integrales': { calories: 247, protein: 13, carbs: 41, fat: 4.2 },
  'granola': { calories: 471, protein: 10, carbs: 64, fat: 20 },

  // TUBÉRCULOS
  'patata': { calories: 77, protein: 2, carbs: 17, fat: 0.1 },
  'batata': { calories: 86, protein: 1.6, carbs: 20, fat: 0.1 },
  'boniato': { calories: 86, protein: 1.6, carbs: 20, fat: 0.1 },

  // VEGETALES
  'brócoli': { calories: 34, protein: 2.8, carbs: 7, fat: 0.4 },
  'zanahoria': { calories: 41, protein: 0.9, carbs: 10, fat: 0.2 },
  'espinacas': { calories: 23, protein: 2.9, carbs: 3.6, fat: 0.4 },
  'pimientos': { calories: 31, protein: 1, carbs: 7, fat: 0.3 },
  'calabacín': { calories: 17, protein: 1.2, carbs: 3.4, fat: 0.2 },
  'berenjena': { calories: 25, protein: 1, carbs: 6, fat: 0.2 },
  'tomate': { calories: 18, protein: 0.9, carbs: 3.9, fat: 0.2 },
  'cebolla': { calories: 40, protein: 1.1, carbs: 9.3, fat: 0.1 },
  'ajo': { calories: 149, protein: 6.4, carbs: 33, fat: 0.5 },
  'coliflor': { calories: 25, protein: 1.9, carbs: 5, fat: 0.3 },
  'col': { calories: 25, protein: 1.3, carbs: 6, fat: 0.1 },
  'pepino': { calories: 16, protein: 0.7, carbs: 4, fat: 0.1 },
  'lechuga': { calories: 15, protein: 1.4, carbs: 2.9, fat: 0.2 },
  'rúcula': { calories: 25, protein: 2.6, carbs: 3.7, fat: 0.7 },
  'canónigos': { calories: 14, protein: 2, carbs: 2.6, fat: 0.4 },
  'endivias': { calories: 17, protein: 1.3, carbs: 3.4, fat: 0.2 },
  'apio': { calories: 16, protein: 0.7, carbs: 3, fat: 0.2 },
  'puerro': { calories: 61, protein: 1.5, carbs: 14, fat: 0.3 },
  'nabo': { calories: 28, protein: 0.9, carbs: 6, fat: 0.1 },
  'rábano': { calories: 16, protein: 0.7, carbs: 3.4, fat: 0.1 },
  'remolacha': { calories: 43, protein: 1.6, carbs: 10, fat: 0.2 },
  'alcachofa': { calories: 47, protein: 3.3, carbs: 11, fat: 0.2 },
  'espárragos': { calories: 20, protein: 2.2, carbs: 4, fat: 0.1 },
  'judías verdes': { calories: 31, protein: 1.8, carbs: 7, fat: 0.1 },
  'guisantes': { calories: 81, protein: 5.4, carbs: 14, fat: 0.4 },
  'maíz': { calories: 86, protein: 3.3, carbs: 19, fat: 1.2 },
  'champiñones': { calories: 22, protein: 3.1, carbs: 3.3, fat: 0.3 },
  'setas': { calories: 22, protein: 3.1, carbs: 3.3, fat: 0.3 },
  'calabaza': { calories: 26, protein: 1, carbs: 7, fat: 0.1 },
  'kale': { calories: 49, protein: 4.3, carbs: 8.8, fat: 0.9 },
  
  // VEGETALES INTERNACIONALES Y ESPECIALES
  'bok choy': { calories: 13, protein: 1.5, carbs: 2.2, fat: 0.2 },
  'pak choi': { calories: 13, protein: 1.5, carbs: 2.2, fat: 0.2 },
  'daikon': { calories: 18, protein: 0.6, carbs: 4.1, fat: 0.1 },



  'galanga': { calories: 80, protein: 1.8, carbs: 18, fat: 0.8 },
  'lemongrass': { calories: 99, protein: 1.8, carbs: 25, fat: 0.5 },
  'hoja de lima kaffir': { calories: 30, protein: 1, carbs: 7, fat: 0.2 },
  'hoja de curry': { calories: 30, protein: 1, carbs: 7, fat: 0.2 },
  'hoja de pandan': { calories: 30, protein: 1, carbs: 7, fat: 0.2 },
  'hoja de banana': { calories: 30, protein: 1, carbs: 7, fat: 0.2 },
  'hoja de loto': { calories: 30, protein: 1, carbs: 7, fat: 0.2 },
  'hoja de mostaza': { calories: 27, protein: 2.9, carbs: 4.7, fat: 0.4 },
  'hoja de betabel': { calories: 22, protein: 2.2, carbs: 4.3, fat: 0.1 },
  'hoja de nabo': { calories: 32, protein: 1.5, carbs: 7, fat: 0.3 },
  'hoja de rábano': { calories: 32, protein: 1.5, carbs: 7, fat: 0.3 },
  'hoja de zanahoria': { calories: 35, protein: 2.1, carbs: 7, fat: 0.3 },
  'hoja de brócoli': { calories: 34, protein: 2.8, carbs: 7, fat: 0.4 },
  'hoja de coliflor': { calories: 25, protein: 1.9, carbs: 5, fat: 0.3 },
  'hoja de col': { calories: 25, protein: 1.3, carbs: 6, fat: 0.1 },
  'hoja de lechuga': { calories: 15, protein: 1.4, carbs: 2.9, fat: 0.2 },
  'hoja de espinaca': { calories: 23, protein: 2.9, carbs: 3.6, fat: 0.4 },
  'hoja de acelga': { calories: 19, protein: 1.8, carbs: 3.7, fat: 0.2 },
  'hoja de remolacha': { calories: 22, protein: 2.2, carbs: 4.3, fat: 0.1 },

  // FRUTAS
  'manzana': { calories: 52, protein: 0.3, carbs: 14, fat: 0.2 },
  'plátano': { calories: 89, protein: 1.1, carbs: 23, fat: 0.3 },
  'fresas': { calories: 32, protein: 0.7, carbs: 8, fat: 0.3 },
  'arándanos': { calories: 57, protein: 0.7, carbs: 14, fat: 0.3 },
  'naranja': { calories: 47, protein: 0.9, carbs: 12, fat: 0.1 },
  'pera': { calories: 57, protein: 0.4, carbs: 15, fat: 0.1 },
  'piña': { calories: 50, protein: 0.5, carbs: 13, fat: 0.1 },
  'mango': { calories: 60, protein: 0.8, carbs: 15, fat: 0.4 },
  'kiwi': { calories: 61, protein: 1.1, carbs: 15, fat: 0.5 },
  'granada': { calories: 83, protein: 1.7, carbs: 19, fat: 1.2 },
  'uva': { calories: 67, protein: 0.6, carbs: 17, fat: 0.4 },
  'melocotón': { calories: 39, protein: 0.9, carbs: 10, fat: 0.3 },
  'albaricoque': { calories: 48, protein: 1.4, carbs: 11, fat: 0.4 },
  'ciruela': { calories: 46, protein: 0.7, carbs: 11, fat: 0.3 },
  'higo': { calories: 74, protein: 0.8, carbs: 19, fat: 0.3 },
  'cereza': { calories: 63, protein: 1.1, carbs: 16, fat: 0.2 },
  'frambuesa': { calories: 52, protein: 1.2, carbs: 12, fat: 0.7 },
  'mora': { calories: 43, protein: 1.4, carbs: 10, fat: 0.5 },
  'limón': { calories: 29, protein: 1.1, carbs: 9, fat: 0.3 },
  'lima': { calories: 30, protein: 0.7, carbs: 11, fat: 0.2 },
  'pomelo': { calories: 42, protein: 0.8, carbs: 11, fat: 0.1 },
  'mandarina': { calories: 53, protein: 0.8, carbs: 13, fat: 0.3 },
  'papaya': { calories: 43, protein: 0.5, carbs: 11, fat: 0.3 },
  'maracuyá': { calories: 97, protein: 2.2, carbs: 23, fat: 0.7 },
  'coco': { calories: 354, protein: 3.3, carbs: 15, fat: 33 },
  'dátiles': { calories: 277, protein: 1.8, carbs: 75, fat: 0.2 },
  'pasas': { calories: 299, protein: 3.1, carbs: 79, fat: 0.5 },
  'higos secos': { calories: 249, protein: 3.3, carbs: 64, fat: 0.9 },
  
  // FRUTAS INTERNACIONALES Y EXÓTICAS
  'dragon fruit': { calories: 60, protein: 1.2, carbs: 13, fat: 0.4 },
  'fruta del dragón': { calories: 60, protein: 1.2, carbs: 13, fat: 0.4 },
  'rambután': { calories: 68, protein: 0.9, carbs: 16, fat: 0.2 },
  'litchi': { calories: 66, protein: 0.8, carbs: 16, fat: 0.4 },
  'longan': { calories: 60, protein: 1.3, carbs: 15, fat: 0.1 },
  'durian': { calories: 147, protein: 1.5, carbs: 27, fat: 5.3 },
  'jackfruit': { calories: 95, protein: 1.7, carbs: 23, fat: 0.6 },
  'yaca': { calories: 95, protein: 1.7, carbs: 23, fat: 0.6 },
  'mangostán': { calories: 73, protein: 0.4, carbs: 18, fat: 0.6 },
  'carambola': { calories: 31, protein: 1, carbs: 7, fat: 0.3 },
  'fruta estrella': { calories: 31, protein: 1, carbs: 7, fat: 0.3 },
  'guayaba': { calories: 68, protein: 2.6, carbs: 14, fat: 1 },
  'pitahaya': { calories: 60, protein: 1.2, carbs: 13, fat: 0.4 },
  'tamarindo': { calories: 239, protein: 2.8, carbs: 63, fat: 0.6 },
  'noni': { calories: 47, protein: 0.4, carbs: 11, fat: 0.1 },
  'acerola': { calories: 32, protein: 0.4, carbs: 8, fat: 0.3 },
  'camu camu': { calories: 17, protein: 0.4, carbs: 4, fat: 0.2 },
  'açaí': { calories: 70, protein: 1, carbs: 16, fat: 0.2 },
  'baobab': { calories: 250, protein: 2.3, carbs: 64, fat: 0.9 },
  'moringa': { calories: 64, protein: 9.4, carbs: 8.3, fat: 1.4 },
  'lúcuma': { calories: 87, protein: 1.1, carbs: 22, fat: 0.1 },
  'chirimoya': { calories: 75, protein: 1.6, carbs: 18, fat: 0.7 },
  'guanábana': { calories: 66, protein: 1, carbs: 16, fat: 0.3 },
  'soursop': { calories: 66, protein: 1, carbs: 16, fat: 0.3 },
  'feijoa': { calories: 55, protein: 0.6, carbs: 13, fat: 0.2 },
  'kiwano': { calories: 44, protein: 1.8, carbs: 8, fat: 1.3 },
  'melón africano': { calories: 44, protein: 1.8, carbs: 8, fat: 1.3 },
  'physalis': { calories: 53, protein: 1.9, carbs: 11, fat: 0.7 },
  'uchuva': { calories: 53, protein: 1.9, carbs: 11, fat: 0.7 },
  'goldenberry': { calories: 53, protein: 1.9, carbs: 11, fat: 0.7 },
  'tomatillo': { calories: 32, protein: 0.9, carbs: 6, fat: 1 },
  'tamarillo': { calories: 31, protein: 1.5, carbs: 6, fat: 0.4 },
  'tree tomato': { calories: 31, protein: 1.5, carbs: 6, fat: 0.4 },
  'persimmon': { calories: 70, protein: 0.6, carbs: 18, fat: 0.2 },
  'caqui': { calories: 70, protein: 0.6, carbs: 18, fat: 0.2 },
  'sharon': { calories: 70, protein: 0.6, carbs: 18, fat: 0.2 },
  'jujube': { calories: 79, protein: 1.2, carbs: 20, fat: 0.2 },
  'azufaifa': { calories: 79, protein: 1.2, carbs: 20, fat: 0.2 },
  'loquat': { calories: 47, protein: 0.4, carbs: 12, fat: 0.2 },
  'níspero': { calories: 47, protein: 0.4, carbs: 12, fat: 0.2 },
  'medlar': { calories: 47, protein: 0.4, carbs: 12, fat: 0.2 },
  'quince': { calories: 57, protein: 0.4, carbs: 15, fat: 0.1 },
  'membrillo': { calories: 57, protein: 0.4, carbs: 15, fat: 0.1 },
  'pomegranate': { calories: 83, protein: 1.7, carbs: 19, fat: 1.2 },
  'elderberry': { calories: 73, protein: 0.7, carbs: 18, fat: 0.5 },
  'saúco': { calories: 73, protein: 0.7, carbs: 18, fat: 0.5 },
  'gooseberry': { calories: 44, protein: 0.9, carbs: 10, fat: 0.6 },
  'grosella': { calories: 44, protein: 0.9, carbs: 10, fat: 0.6 },
  'currant': { calories: 56, protein: 1.4, carbs: 14, fat: 0.2 },
  'grosella negra': { calories: 56, protein: 1.4, carbs: 14, fat: 0.2 },
  'grosella roja': { calories: 56, protein: 1.4, carbs: 14, fat: 0.2 },
  'grosella blanca': { calories: 56, protein: 1.4, carbs: 14, fat: 0.2 },
  'mulberry': { calories: 43, protein: 1.4, carbs: 10, fat: 0.4 },
  'mora blanca': { calories: 43, protein: 1.4, carbs: 10, fat: 0.4 },
  'mora roja': { calories: 43, protein: 1.4, carbs: 10, fat: 0.4 },
  'mora negra': { calories: 43, protein: 1.4, carbs: 10, fat: 0.4 },
  'boysenberry': { calories: 43, protein: 1.4, carbs: 10, fat: 0.4 },
  'loganberry': { calories: 43, protein: 1.4, carbs: 10, fat: 0.4 },
  'tayberry': { calories: 43, protein: 1.4, carbs: 10, fat: 0.4 },
  'cloudberry': { calories: 51, protein: 2.4, carbs: 8, fat: 0.8 },
  'mora de los pantanos': { calories: 51, protein: 2.4, carbs: 8, fat: 0.8 },
  'lingonberry': { calories: 54, protein: 0.4, carbs: 12, fat: 0.3 },
  'arándano rojo': { calories: 54, protein: 0.4, carbs: 12, fat: 0.3 },
  'cranberry': { calories: 54, protein: 0.4, carbs: 12, fat: 0.3 },
  'huckleberry': { calories: 37, protein: 0.4, carbs: 9, fat: 0.1 },
  'arándano silvestre': { calories: 37, protein: 0.4, carbs: 9, fat: 0.1 },
  'serviceberry': { calories: 37, protein: 0.4, carbs: 9, fat: 0.1 },
  'saskatoon': { calories: 37, protein: 0.4, carbs: 9, fat: 0.1 },
  'juneberry': { calories: 37, protein: 0.4, carbs: 9, fat: 0.1 },
  'chokecherry': { calories: 37, protein: 0.4, carbs: 9, fat: 0.1 },
  'pin cherry': { calories: 37, protein: 0.4, carbs: 9, fat: 0.1 },
  'sand cherry': { calories: 37, protein: 0.4, carbs: 9, fat: 0.1 },
  'buffaloberry': { calories: 37, protein: 0.4, carbs: 9, fat: 0.1 },
  'silverberry': { calories: 37, protein: 0.4, carbs: 9, fat: 0.1 },
  'autumn olive': { calories: 37, protein: 0.4, carbs: 9, fat: 0.1 },
  'sea buckthorn': { calories: 37, protein: 0.4, carbs: 9, fat: 0.1 },
  'wolfberry': { calories: 37, protein: 0.4, carbs: 9, fat: 0.1 },
  'goji berry': { calories: 37, protein: 0.4, carbs: 9, fat: 0.1 },
  'baya de goji': { calories: 37, protein: 0.4, carbs: 9, fat: 0.1 },
  'maqui': { calories: 37, protein: 0.4, carbs: 9, fat: 0.1 },
  'maqui berry': { calories: 37, protein: 0.4, carbs: 9, fat: 0.1 },
  'murtilla': { calories: 37, protein: 0.4, carbs: 9, fat: 0.1 },
  'murtilla berry': { calories: 37, protein: 0.4, carbs: 9, fat: 0.1 },
  'calafate': { calories: 37, protein: 0.4, carbs: 9, fat: 0.1 },
  'calafate berry': { calories: 37, protein: 0.4, carbs: 9, fat: 0.1 },

  // FRUTOS SECOS Y SEMILLAS
  'nueces': { calories: 654, protein: 15, carbs: 14, fat: 65 },
  'almendras': { calories: 579, protein: 21, carbs: 22, fat: 50 },
  'pistachos': { calories: 560, protein: 20, carbs: 28, fat: 45 },
  'anacardos': { calories: 553, protein: 18, carbs: 30, fat: 44 },
  'avellanas': { calories: 628, protein: 15, carbs: 17, fat: 61 },
  'macadamias': { calories: 718, protein: 8, carbs: 14, fat: 76 },
  'semillas de girasol': { calories: 584, protein: 21, carbs: 20, fat: 51 },
  'semillas de calabaza': { calories: 559, protein: 30, carbs: 11, fat: 49 },
  'semillas de chía': { calories: 486, protein: 17, carbs: 42, fat: 31 },
  'semillas de lino': { calories: 534, protein: 18, carbs: 29, fat: 42 },
  'semillas de sésamo': { calories: 573, protein: 18, carbs: 23, fat: 50 },

  // ACEITES Y GRASAS
  'aceite de oliva': { calories: 884, protein: 0, carbs: 0, fat: 100 },
  'aceite de coco': { calories: 862, protein: 0, carbs: 0, fat: 100 },
  'aceite de sésamo': { calories: 884, protein: 0, carbs: 0, fat: 100 },
  'aguacate': { calories: 160, protein: 2, carbs: 9, fat: 15 },
  'aceitunas': { calories: 115, protein: 0.8, carbs: 6, fat: 11 },
  'tahini': { calories: 595, protein: 18, carbs: 18, fat: 54 },

  // ESPECIAS Y CONDIMENTOS
  'sal': { calories: 0, protein: 0, carbs: 0, fat: 0 },
  'pimienta': { calories: 251, protein: 10, carbs: 64, fat: 3.3 },
  'canela': { calories: 247, protein: 4, carbs: 81, fat: 1.2 },
  'nuez moscada': { calories: 525, protein: 6, carbs: 49, fat: 36 },
  'clavo': { calories: 274, protein: 6, carbs: 66, fat: 13 },
  'cardamomo': { calories: 311, protein: 11, carbs: 68, fat: 7 },
  'anís': { calories: 337, protein: 18, carbs: 50, fat: 16 },
  'hinojo': { calories: 31, protein: 1.2, carbs: 7, fat: 0.2 },
  'mostaza': { calories: 66, protein: 4, carbs: 5, fat: 4 },

  'curry': { calories: 325, protein: 14, carbs: 58, fat: 14 },

  'comino': { calories: 375, protein: 18, carbs: 44, fat: 22 },
  'orégano': { calories: 265, protein: 9, carbs: 69, fat: 4.3 },
  'albahaca': { calories: 22, protein: 3.2, carbs: 2.6, fat: 0.6 },

  'pimentón': { calories: 282, protein: 14, carbs: 54, fat: 12 },
  'romero': { calories: 131, protein: 3.3, carbs: 21, fat: 5.9 },
  'tomillo': { calories: 101, protein: 5.6, carbs: 24, fat: 1.7 },
  'laurel': { calories: 313, protein: 8, carbs: 75, fat: 8.4 },
  'estragón': { calories: 295, protein: 23, carbs: 50, fat: 7.2 },
  'eneldo': { calories: 43, protein: 3.5, carbs: 7, fat: 1.1 },
  'cilantro': { calories: 23, protein: 2.1, carbs: 3.7, fat: 0.5 },
  'perejil': { calories: 36, protein: 3, carbs: 6, fat: 0.8 },
  'menta': { calories: 70, protein: 3.8, carbs: 15, fat: 0.9 },
  'hierbabuena': { calories: 70, protein: 3.8, carbs: 15, fat: 0.9 },
  
  // ESPECIAS Y CONDIMENTOS INTERNACIONALES
  'curry en polvo': { calories: 325, protein: 14, carbs: 58, fat: 14 },

  'tandoori masala': { calories: 325, protein: 14, carbs: 58, fat: 14 },
  'ras el hanout': { calories: 325, protein: 14, carbs: 58, fat: 14 },


  'baharat': { calories: 325, protein: 14, carbs: 58, fat: 14 },
  'berbere': { calories: 325, protein: 14, carbs: 58, fat: 14 },
  'harissa': { calories: 325, protein: 14, carbs: 58, fat: 14 },
  'dukkah': { calories: 325, protein: 14, carbs: 58, fat: 14 },
  'furikake': { calories: 325, protein: 14, carbs: 58, fat: 14 },
  'shichimi togarashi': { calories: 325, protein: 14, carbs: 58, fat: 14 },
  'sansho': { calories: 325, protein: 14, carbs: 58, fat: 14 },
  'sichuan peppercorn': { calories: 325, protein: 14, carbs: 58, fat: 14 },
  'pimienta de sichuan': { calories: 325, protein: 14, carbs: 58, fat: 14 },
  'star anise': { calories: 337, protein: 18, carbs: 50, fat: 16 },
  'anís estrellado': { calories: 337, protein: 18, carbs: 50, fat: 16 },
  'cassia': { calories: 247, protein: 4, carbs: 81, fat: 1.2 },
  'canela de cassia': { calories: 247, protein: 4, carbs: 81, fat: 1.2 },
  'cinnamon': { calories: 247, protein: 4, carbs: 81, fat: 1.2 },
  'cinnamon stick': { calories: 247, protein: 4, carbs: 81, fat: 1.2 },
  'rama de canela': { calories: 247, protein: 4, carbs: 81, fat: 1.2 },
  'cinnamon powder': { calories: 247, protein: 4, carbs: 81, fat: 1.2 },
  'canela en polvo': { calories: 247, protein: 4, carbs: 81, fat: 1.2 },
  'cinnamon sugar': { calories: 247, protein: 4, carbs: 81, fat: 1.2 },
  'azúcar con canela': { calories: 247, protein: 4, carbs: 81, fat: 1.2 },
  'cinnamon roll': { calories: 247, protein: 4, carbs: 81, fat: 1.2 },
  'rollo de canela': { calories: 247, protein: 4, carbs: 81, fat: 1.2 },
  'cinnamon toast': { calories: 247, protein: 4, carbs: 81, fat: 1.2 },
  'tostada con canela': { calories: 247, protein: 4, carbs: 81, fat: 1.2 },
  'cinnamon tea': { calories: 247, protein: 4, carbs: 81, fat: 1.2 },
  'té de canela': { calories: 247, protein: 4, carbs: 81, fat: 1.2 },
  'cinnamon oil': { calories: 247, protein: 4, carbs: 81, fat: 1.2 },
  'aceite de canela': { calories: 247, protein: 4, carbs: 81, fat: 1.2 },
  'cinnamon extract': { calories: 247, protein: 4, carbs: 81, fat: 1.2 },
  'extracto de canela': { calories: 247, protein: 4, carbs: 81, fat: 1.2 },
  'cinnamon bark': { calories: 247, protein: 4, carbs: 81, fat: 1.2 },
  'corteza de canela': { calories: 247, protein: 4, carbs: 81, fat: 1.2 },
  'cinnamon leaf': { calories: 247, protein: 4, carbs: 81, fat: 1.2 },
  'hoja de canela': { calories: 247, protein: 4, carbs: 81, fat: 1.2 },
  'cinnamon flower': { calories: 247, protein: 4, carbs: 81, fat: 1.2 },
  'flor de canela': { calories: 247, protein: 4, carbs: 81, fat: 1.2 },
  'cinnamon bud': { calories: 247, protein: 4, carbs: 81, fat: 1.2 },
  'brote de canela': { calories: 247, protein: 4, carbs: 81, fat: 1.2 },
  'cinnamon root': { calories: 247, protein: 4, carbs: 81, fat: 1.2 },
  'raíz de canela': { calories: 247, protein: 4, carbs: 81, fat: 1.2 },
  'cinnamon seed': { calories: 247, protein: 4, carbs: 81, fat: 1.2 },
  'semilla de canela': { calories: 247, protein: 4, carbs: 81, fat: 1.2 },

  // OTROS
  'miel': { calories: 304, protein: 0.3, carbs: 82, fat: 0 },
  'azúcar': { calories: 387, protein: 0, carbs: 100, fat: 0 },
  'vinagre': { calories: 19, protein: 0, carbs: 0.9, fat: 0 },
  'vino blanco': { calories: 82, protein: 0.1, carbs: 2.6, fat: 0 },
  'vino tinto': { calories: 83, protein: 0.1, carbs: 2.6, fat: 0 },
  'salsa de soja': { calories: 8, protein: 1.3, carbs: 0.8, fat: 0 },
  'salsa agridulce': { calories: 150, protein: 0.5, carbs: 37, fat: 0.1 },
  'salsa barbacoa': { calories: 172, protein: 0.8, carbs: 42, fat: 0.1 },
  'salsa holandesa': { calories: 358, protein: 2.8, carbs: 2.1, fat: 38 },
  'pasta de miso': { calories: 199, protein: 12, carbs: 26, fat: 6 },
  'algas wakame': { calories: 45, protein: 3, carbs: 9, fat: 0.6 },
  'cebollino': { calories: 30, protein: 3.3, carbs: 4.4, fat: 0.7 },
  'proteína en polvo': { calories: 370, protein: 80, carbs: 8, fat: 3 },
  'coco rallado': { calories: 354, protein: 3.3, carbs: 15, fat: 33 },
  'chocolate negro 85%': { calories: 598, protein: 12, carbs: 46, fat: 43 },
  'hielo': { calories: 0, protein: 0, carbs: 0, fat: 0 }
};

// Función para obtener datos nutricionales de un ingrediente
export function getNutritionData(ingredient: string): NutritionData {
  const lowerIngredient = ingredient.toLowerCase().trim();
  
  // Buscar coincidencia exacta primero
  if (NUTRITION_DATABASE[lowerIngredient]) {
    return NUTRITION_DATABASE[lowerIngredient];
  }
  
  // Buscar coincidencia parcial
  for (const [key, value] of Object.entries(NUTRITION_DATABASE)) {
    if (lowerIngredient.includes(key) || key.includes(lowerIngredient)) {
      return value;
    }
  }
  
  // Valores por defecto si no se encuentra
  console.warn(`⚠️ No se encontraron datos nutricionales para: ${ingredient}`);
  return { calories: 50, protein: 2, carbs: 8, fat: 1 };
}

// Función para calcular valores nutricionales de un plato
export function calculateMealNutrition(ingredients: string[], quantities?: number[]): NutritionData {
  let totalCalories = 0;
  let totalProtein = 0;
  let totalCarbs = 0;
  let totalFat = 0;
  
  ingredients.forEach((ingredient, index) => {
    const nutrition = getNutritionData(ingredient);
    const quantity = quantities && quantities[index] ? quantities[index] : 100; // Por defecto 100g
    
    totalCalories += (nutrition.calories * quantity) / 100;
    totalProtein += (nutrition.protein * quantity) / 100;
    totalCarbs += (nutrition.carbs * quantity) / 100;
    totalFat += (nutrition.fat * quantity) / 100;
  });
  
  return {
    calories: Math.round(totalCalories),
    protein: Math.round(totalProtein * 10) / 10,
    carbs: Math.round(totalCarbs * 10) / 10,
    fat: Math.round(totalFat * 10) / 10
  };
}
